<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ultimate AI Meal Platform</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
<style>
  body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg,#dfe9f3,#ffffff);
    margin:0;
    padding:20px;
    text-align:center;
    transition:0.3s;
  }
  body.dark { background:#121212; color:white; }
  .app {
    max-width:650px;
    margin:auto;
    background:white;
    padding:20px;
    border-radius:25px;
    box-shadow:0 15px 40px rgba(0,0,0,0.15);
  }
  body.dark .app { background:#1e1e1e; }
  select, button, input {
    padding:12px;
    margin:8px 0;
    width:100%;
    border-radius:12px;
    border:1px solid #ddd;
    font-size:15px;
  }
  button { background:#4f7cff; color:white; border:none; cursor:pointer; }
  img { width:100%; border-radius:15px; margin-top:10px; max-height:280px; object-fit:cover; }
  ul { text-align:left; }
  .badge { background:#eef4ff; padding:6px 12px; border-radius:20px; display:inline-block; margin-top:8px; }
</style>
</head>
<body>

<h1>Ultimate AI Meal Platform</h1>
<button onclick="toggleDarkMode()">üåô Toggle Dark Mode</button>

<div class="app">

<h3>User Login</h3>
<input id="username" placeholder="Enter username">
<button onclick="loginUser()">Login</button>
<div id="welcome"></div>

<select id="mealType">
<option value="breakfast">Breakfast</option>
<option value="lunch">Lunch</option>
<option value="dinner">Dinner</option>
<option value="diet">Diet / Healthy</option>
</select>

<input type="text" id="ingredientsInput" placeholder="Enter ingredients you have">
<button onclick="recommendMeal()">Recommend Meal</button>
<button onclick="generateSteps()">Generate AI Steps</button>
<button onclick="generateAIRecipe()">Generate Real AI Recipe (API Ready)</button>
<button onclick="saveFavorite()">‚ù§Ô∏è Save to Favorites</button>

<h2 id="mealName"></h2>
<div id="mealBadge" class="badge"></div>
<div id="calories"></div>
<img id="mealImage" />
<ul id="steps"></ul>

<h3>‚≠ê Favorite Meals</h3>
<ul id="favoriteList"></ul>

</div>

<script>
function toggleDarkMode(){ document.body.classList.toggle('dark'); }

function loginUser(){
  const name=document.getElementById('username').value;
  localStorage.setItem('user',name);
  document.getElementById('welcome').innerText="Welcome, "+name;
}

if(localStorage.getItem('user')){
 document.getElementById('welcome').innerText="Welcome, "+localStorage.getItem('user');
}

const meals={
  breakfast:[{name:"Omelette",image:"https://images.unsplash.com/photo-1510693206972-df098062cb71",type:"High Protein",calories:250}],
  lunch:[{name:"Chicken Sandwich",image:"https://images.unsplash.com/photo-1550547660-d9450f859349",type:"Balanced",calories:450}],
  dinner:[{name:"Grilled Salmon",image:"https://images.unsplash.com/photo-1467003909585-2f8a72700288",type:"Omega-3",calories:400}],
  diet:[{name:"Quinoa Salad",image:"https://images.unsplash.com/photo-1505253213348-cd54c1f9d3a1",type:"Weight Loss",calories:320}]
};

let currentMeal=null;

function recommendMeal(){
 const type=document.getElementById('mealType').value;
 const options=meals[type];
 currentMeal=options[Math.floor(Math.random()*options.length)];
 document.getElementById('mealName').innerText=currentMeal.name;
 document.getElementById('mealImage').src=currentMeal.image;
 document.getElementById('mealBadge').innerText=currentMeal.type;
 document.getElementById('calories').innerText="Calories: "+currentMeal.calories+" kcal";
 document.getElementById('steps').innerHTML="";
}

function generateSteps(){
 if(!currentMeal) return;
 const steps=[
  "Prepare fresh ingredients",
  "Cook using proper technique",
  "Season and taste",
  "Serve and enjoy"
 ];
 const list=document.getElementById('steps');
 list.innerHTML="";
 steps.forEach(s=>{const li=document.createElement('li'); li.innerText=s; list.appendChild(li);});
}

async function generateAIRecipe(){
 const ingredients=document.getElementById('ingredientsInput').value;
 const list=document.getElementById('steps');
 list.innerHTML="<li>Connect OpenAI API here to generate real recipes dynamically using ingredients: "+ingredients+"</li>";
}

function saveFavorite(){
 if(!currentMeal) return;
 let fav=JSON.parse(localStorage.getItem('favorites'))||[];
 fav.push(currentMeal.name);
 localStorage.setItem('favorites',JSON.stringify(fav));
 displayFavorites();
}

function displayFavorites(){
 const list=document.getElementById('favoriteList');
 list.innerHTML="";
 let fav=JSON.parse(localStorage.getItem('favorites'))||[];
 fav.forEach(m=>{const li=document.createElement('li'); li.innerText=m; list.appendChild(li);});
}
displayFavorites();
</script>

</body>
</html>
